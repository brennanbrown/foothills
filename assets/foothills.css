/* Foothills Theme CSS
   Palette and fonts are bridged from Tumblr Theme Options via CSS variables set inline in HTML:
   --bg, --text, --accent, --link, --font-poetry, --font-headers, --font-body, --font-ui
*/

:root {
  /* Fallbacks if theme variables are missing */
  --bg: #FFFEF7;
  --text: #2F2F2F;
  --accent: #D2691E; /* accent burnt orange */
  --link: #cd851a;  /* earthy link color */
  --shadow: 0 8px 24px rgba(0,0,0,.06);
  --radius: 10px;
}

/* Base */
html { background: var(--bg); }
body {
  color: var(--text);
  font-family: var(--font-body, ui-serif, Georgia, "Times New Roman", serif);
  font-size: 1.0625rem;
  line-height: 1.75;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

img, svg, video { max-width: 100%; height: auto; }

h1,h2,h3,h4,h5,h6 {
  font-family: var(--font-headers, var(--font-body));
  line-height: 1.25;
  margin: 0.5em 0 0.35em;
}

p, ul, ol, blockquote { margin: 0 0 1em; }

a { color: var(--link); text-decoration-thickness: .08em; text-underline-offset: .18em; }
a:hover { color: var(--accent); }

:focus-visible { outline: 3px solid var(--accent); outline-offset: 2px; border-radius: 4px; }

.skip-link {
  position: absolute; left: -9999px; top: auto; width: 1px; height: 1px; overflow: hidden;
}
.skip-link:focus { left: 1rem; top: 1rem; width: auto; height: auto; padding: .5rem .75rem; background: #fff; color: #000; box-shadow: var(--shadow); }

html, body { background: var(--bg); color: var(--text); }
.container { max-width: 1100px; margin: 0 auto; padding: 1rem; }

/* Palettes (one-click via body[data-palette]) */
/* Prairie (light, warm) — defaults already align with this */
body[data-palette="Prairie"] {
  --bg: #FFFEF7;
  --text: #2F2F2F;
  --accent: #D2691E; /* burnt orange */
  --link: #cd851a;   /* goldenrod */
}

/* River (light, cool) */
body[data-palette="River"] {
  --bg: #F8FAFD;
  --text: #232A31;
  --accent: #2A9D8F; /* teal */
  --link: #1D6FE4;   /* blue */
}

/* Night Sky (dark) */
body[data-palette="Night"] {
  --bg: #0b0e11; /* darker overall page background */
  --text: #EDEDED;
  --accent: #E3985B; /* warm amber */
  --link: #8ECAE6;   /* soft blue */
}

/* Burnt Umber (dark, warm) */
body[data-palette="Burnt"] {
  --bg: #120c08; /* darker overall page background */
  --text: #F6F1EB;
  --accent: #D2691E; /* burnt orange */
  --link: #FFB86B;   /* warm link */
}

/* Derived tokens for surfaces, borders, and hover that adapt to palette */
/* Light palettes default */
:root,
body[data-palette="Prairie"],
body[data-palette="River"] {
  --surface: color-mix(in oklab, var(--bg) 98%, #000);
  --surface-soft: color-mix(in oklab, var(--bg) 95%, #000);
  --border: color-mix(in oklab, var(--text) 14%, transparent);
  --hover: color-mix(in oklab, var(--text) 10%, transparent);
}
/* Dark palettes override */
body[data-palette="Night"],
body[data-palette="Burnt"] {
  --surface: color-mix(in oklab, var(--bg) 85%, #fff);
  --surface-soft: color-mix(in oklab, var(--bg) 80%, #fff);
  --border: color-mix(in oklab, #ffffff 16%, transparent);
  --hover: color-mix(in oklab, #ffffff 10%, transparent);
}

/* Header */
.site-header { position: sticky; top: 0; z-index: 100; backdrop-filter: blur(6px); background: var(--surface-soft); border-bottom: 1px solid var(--border); }
.site-title { flex: 0 0 auto; }
.site-title a { color: inherit; text-decoration: none; }
.header-content { flex-wrap: nowrap; justify-content: space-between; align-items: center; gap: 1rem; }
.main-nav { display: flex; gap: .75rem; flex-wrap: nowrap; align-items: center; flex: 1 1 auto; min-width: 0; }
.main-nav a { padding: .35rem .5rem; border-radius: 6px; }
.main-nav a:hover, .main-nav a[aria-current="page"] { background: var(--hover); }
.main-nav a i { margin-right: .35rem; opacity: .85; }
.header-actions { display: inline-flex; gap: .5rem; align-items: center; flex: 0 0 auto; margin-left: .5rem; }
/* Palette toggle styled like a nav link when inside .main-nav */
.main-nav .palette-toggle { appearance: none; border: 0; background: transparent; color: var(--link); padding: .35rem .5rem; border-radius: 6px; cursor: pointer; font: inherit; }
.main-nav .palette-toggle:hover { background: var(--hover); color: inherit; }

/* Hero */
.hero-section { background:
  radial-gradient(1200px 400px at 50% -50%, color-mix(in oklab, var(--accent) 20%, transparent) 0%, transparent 70%),
  linear-gradient(180deg, color-mix(in oklab, var(--accent) 10%, transparent), transparent 60%);
  border-bottom: 1px solid var(--border);
}
.hero-content .hero-inner { color: var(--text); }
/* No special dark override for hero background; rely on base gradient and text color */
.hero-content { padding: 4rem 1rem 3rem; }
.hero-content .hero-inner { max-width: 820px; margin: 0 auto; }
.hero-greeting { font-size: clamp(1.9rem, 1.2rem + 2vw, 2.6rem); letter-spacing: .2px; }
.cta-container { margin-top: 1.5rem; display: flex; gap: 1rem; align-items: center; justify-content: center; flex-wrap: wrap; flex-direction: column; }
.cta-text { text-align: center; }
.cta-button { display: inline-block; background: var(--accent); color: #fff; padding: .55rem .85rem; border-radius: 999px; text-decoration: none; box-shadow: var(--shadow); }
.cta-button:hover { filter: brightness(1.06); }

/* Featured Tags */
.featured-tags { display: flex; flex-wrap: wrap; gap: .4rem; margin: .25rem 0 1rem; }
.tag-chip { display: inline-block; padding: .25rem .55rem; border-radius: 999px; border: 1px solid var(--border); background: var(--surface); color: inherit; text-decoration: none; box-shadow: 0 1px 0 rgba(0,0,0,.03); }
.tag-chip:hover { background: rgba(0,0,0,.04); }
.featured-tags-widget .featured-tags { margin-top: .5rem; }
.featured-tags-widget h3 { margin: 0 0 .25rem; }

/* Layout */
.content-wrapper { display: grid; grid-template-columns: 1fr 320px; gap: clamp(1.2rem, 2vw, 2rem); align-items: start; }
.sidebar .card { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); padding: 1rem; box-shadow: var(--shadow); }
.sidebar .card + .card { margin-top: 1rem; }

/* Posts */
.post { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius); box-shadow: var(--shadow); overflow: clip; }
.post + .post { margin-top: 1.25rem; }
.post-content { padding: 1.2rem 1.2rem 0; }
.post-footer { display: flex; align-items: center; justify-content: space-between; gap: 1rem; padding: .9rem 1.2rem; border-top: 1px solid var(--border); }
.post-title a { text-decoration: none; color: inherit; }
.post-title a:hover { text-decoration: underline; }

.post-meta { display: flex; flex-wrap: wrap; gap: .75rem 1rem; align-items: center; }
.post-tags { display: flex; flex-wrap: wrap; gap: .35rem .5rem; }
.tag { background: color-mix(in oklab, var(--accent) 18%, var(--surface)); border: 1px solid color-mix(in oklab, var(--accent) 25%, var(--border)); color: inherit; padding: .2rem .5rem; border-radius: 999px; text-decoration: none; font-size: .9em; }
.tag:hover { background: var(--hover); }
.note-count { opacity: .75; }
.pinned { color: var(--accent); font-weight: 600; }

/* Reblog trail */
.reblog-trail { border-left: 3px solid rgba(0,0,0,.08); margin: 1rem 0; padding: .5rem 0 .5rem 1rem; display: grid; gap: .75rem; }
.reblog-username { font-weight: 600; }
.reblog-username.deactivated { opacity: .6; }
.reblog-content { background: rgba(0,0,0,.03); padding: .75rem; border-radius: 8px; }

/* Post-type specifics */
.quote-post .quote { font-size: 1.25rem; font-style: italic; }
.social-links a i { margin-right: .35rem; opacity: .85; }
.chat-lines { list-style: none; padding: 0; margin: 0; display: grid; gap: .25rem; }
.chat-lines .label { font-weight: 700; }
.audio-player { max-width: 100%; }

/* Sidebar widgets */
.about-photo img { border-radius: 16px; box-shadow: var(--shadow); }
.blogroll { list-style: none; padding: 0; margin: 0; display: grid; gap: .35rem; }
.blogroll li { display: grid; gap: .15rem; }
.blogroll-description { opacity: .8; font-size: .95em; }
.write-club-link { text-decoration: none; color: var(--accent); font-weight: 600; }
.write-club-link:hover { text-decoration: underline; }
/* Social links grid — two per line and centered */
.social-links { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: .4rem .6rem; justify-items: center; align-items: center; }
.social-links a { text-decoration: none; color: var(--link); padding: .25rem .4rem; border-radius: 6px; }
.social-links a:hover { color: var(--accent); background: var(--hover); }

/* Pagination */
.pagination { display: flex; align-items: center; justify-content: center; gap: .5rem; margin: 2rem 0; }
.pagination a, .pagination span { padding: .4rem .6rem; border-radius: 8px; border: 1px solid var(--border); background: var(--surface); color: inherit; text-decoration: none; }
.pagination .current-page { background: var(--accent); color: #fff; border-color: var(--accent); }

/* Search panel */
.search-panel { border-bottom: 1px solid var(--border); background: var(--surface-soft); }
.search-panel .container { display: grid; gap: .75rem; padding-top: .75rem; padding-bottom: .75rem; }
.search-form { display: grid; grid-template-columns: 1fr auto; gap: .5rem; }
.search-input { border: 1px solid var(--border); background: var(--surface); color: inherit; border-radius: 8px; padding: .5rem .65rem; }
.search-button { border: 1px solid var(--border); background: var(--surface); color: inherit; border-radius: 8px; padding: .5rem .75rem; }
.search-button:hover { background: var(--hover); }
.search-meta, .no-results { opacity: .9; }

/* Post notes */
.post-notes { margin: 1rem 0; }
.post-notes ol.notes { list-style: none; padding: 0; margin: 0; border-top: 1px solid var(--border); }
.post-notes .note { border-bottom: 1px solid var(--border); padding: .5rem .25rem; }

/* Related posts */
.related-posts { margin: 1.5rem 0; }
.related-title { margin: 0 0 .5rem; font-size: 1.1rem; }
.related-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: .5rem; }
.related-card { border: 1px solid var(--border); background: var(--surface); border-radius: 8px; padding: .5rem .6rem; }
.related-card a { text-decoration: none; color: inherit; display: block; }
.related-card a:hover { text-decoration: underline; }

/* Search overlay (icon-triggered) */
.search-overlay { position: fixed; inset: 0; background: rgba(0,0,0,.45); z-index: 10000; display: grid; place-items: center; opacity: 1; transition: opacity .2s ease; }
.search-overlay[aria-hidden="true"] { opacity: 0; pointer-events: none; }
.search-overlay-inner { width: min(92vw, 720px); background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 1rem; position: relative; box-shadow: var(--shadow); }
.search-overlay .search-form { display: grid; grid-template-columns: 1fr auto; gap: .5rem; }
.search-close { position: absolute; top: .5rem; right: .5rem; border: 0; background: transparent; font-size: 1.25rem; line-height: 1; padding: .25rem; border-radius: 6px; }
.search-close:hover { background: var(--hover); }

/* Poetry formatting */
.poetry-formatting { line-height: 2; text-align: center; font-family: var(--font-poetry, var(--font-body)); max-width: 42ch; margin: 0 auto; }
.poetry-formatting p { margin-bottom: 1.5em; }
.poetry-formatting br { line-height: 2.5; }

/* Mobile Drawer & Hamburger */
.menu-toggle { display: none; appearance: none; border: 1px solid rgba(0,0,0,.1); padding: .4rem .6rem; border-radius: 8px; background: #fff; color: inherit; }
.menu-toggle:hover { background: rgba(0,0,0,.04); }

/* Post actions — FA icons and like overlay */
.post-actions { display: inline-flex; gap: .5rem; align-items: center; }
.btn-action { display: inline-grid; place-items: center; width: 28px; height: 28px; border-radius: 6px; color: inherit; text-decoration: none; background: var(--surface); border: 1px solid var(--border); }
.btn-action:hover { background: var(--hover); }
.like-wrapper { position: relative; width: 28px; height: 28px; display: inline-grid; place-items: center; border: 1px solid var(--border); border-radius: 6px; background: var(--surface); }
.like-wrapper i { position: absolute; pointer-events: none; }
.like-wrapper iframe { opacity: 0; width: 100% !important; height: 100% !important; }

.drawer { position: fixed; inset: 0; display: grid; grid-template-columns: 1fr; background: rgba(0,0,0,.35); opacity: 1; transition: opacity .2s ease; z-index: 9999; }
.drawer[aria-hidden="true"] { opacity: 0; pointer-events: none; }
.drawer-inner { position: fixed; top: 0; right: 0; margin-left: auto; width: min(92vw, 360px); background: var(--bg); height: 100vh; padding: 1rem; box-shadow: -8px 0 24px rgba(0,0,0,.2); display: grid; grid-template-rows: auto 1fr; gap: .75rem; transform: translateX(0); transition: transform .2s ease; }
.drawer[aria-hidden="true"] .drawer-inner { transform: translateX(100%); }
.drawer-close { justify-self: end; border: none; background: transparent; font-size: 1.25rem; line-height: 1; padding: .25rem; border-radius: 6px; }
.drawer-close:hover { background: rgba(0,0,0,.06); }
.drawer-nav { display: grid; gap: .35rem; }
.drawer-nav a { padding: .4rem .5rem; border-radius: 6px; text-decoration: none; color: inherit; }
.drawer-nav a:hover { background: rgba(0,0,0,.05); }
.drawer-widgets { display: grid; gap: .75rem; overflow: auto; padding-bottom: 1rem; }

/* Subtle organic borders & shadows */
.post, .sidebar .card { box-shadow:
    0 1px 0 rgba(0,0,0,.03),
    0 6px 18px rgba(0,0,0,.05);
  border-radius: 14px;
}

/* Motion preferences */
@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; scroll-behavior: auto !important; }
}

/* Responsive */
@media (max-width: 1023px) {
  .content-wrapper { grid-template-columns: 1fr 300px; }
}

@media (max-width: 767px) {
  .content-wrapper { grid-template-columns: 1fr; }
  .sidebar { order: 0; width: 100%; }
  .hero-content { padding: 2rem 1rem; }
  .main-nav { justify-content: center; display: none; }
  .menu-toggle { display: inline-flex; align-items: center; gap: .5rem; }
}

/* Footer */
.site-footer { margin-top: 3rem; background: var(--surface-soft); color: var(--text); border-top: 1px solid var(--border); }
.site-footer a { color: var(--link); }
.site-footer a:hover { color: var(--accent); }
.footer-inner { display: grid; grid-template-columns: 1fr 1fr 2fr; gap: 1.25rem; padding: 2rem 1rem; align-items: start; }
.footer-nav { display: grid; gap: .35rem; }
.footer-nav a i { margin-right: .35rem; opacity: .85; }
.footer-seo { opacity: .95; }
@media (max-width: 767px) {
  .footer-inner { grid-template-columns: 1fr; }
}
